/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/adapterjs@0.15.4/tests/unit/RTCPeerConnection.prop.spec.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var expect=chai.expect,assert=chai.assert,should=chai.should,testTimeout=35e3,gUMTimeout=25e3,testItemTimeout=5e3,err=new ReferenceError("This is a bad function."),FUNCTION_TYPE=null;describe("RTCPeerConnection | Properties",(function(){this.timeout(testTimeout);var e=null,t=null,o=null,n=null,i=[],r=[];before((function(e){this.timeout(testItemTimeout),AdapterJS.webRTCReady((function(){FUNCTION_TYPE="IE"===webrtcDetectedBrowser?"object":"function",window.navigator.getUserMedia({audio:!0,video:!0},(function(t){o=t,e()}),(function(e){throw e}))}))})),beforeEach((function(o){this.timeout(testItemTimeout),e=new RTCPeerConnection({iceServers:[]}),t=new RTCPeerConnection({iceServers:[]}),o()})),it("RTCPeerConnection.localDescription :: object",(function(o){this.timeout(testItemTimeout),expect(e).to.have.property("localDescription"),expect(t).to.have.property("localDescription"),expect(e.localDescription).to.equal(null),expect(t.localDescription).to.equal(null),o()})),it("RTCPeerConnection.remoteDescription :: object",(function(o){this.timeout(testItemTimeout),expect(e).to.have.property("remoteDescription"),expect(t).to.have.property("remoteDescription"),expect(e.remoteDescription).to.equal(null),expect(t.remoteDescription).to.equal(null),o()})),it("RTCPeerConnection.signalingState :: string",(function(o){this.timeout(testItemTimeout),assert.typeOf(e.signalingState,"string"),assert.typeOf(t.signalingState,"string"),expect(e.signalingState).to.equal("stable"),expect(t.signalingState).to.equal("stable"),o()})),it("RTCPeerConnection.iceConnectionState :: string",(function(o){this.timeout(testItemTimeout),assert.typeOf(e.iceConnectionState,"string"),assert.typeOf(t.iceConnectionState,"string"),expect(e.iceConnectionState).to.equal("new"),expect(t.iceConnectionState).to.equal("new"),o()})),it("RTCPeerConnection.iceGatheringState :: string",(function(o){this.timeout(testItemTimeout),assert.typeOf(e.iceGatheringState,"string"),assert.typeOf(t.iceGatheringState,"string"),expect(e.iceGatheringState).to.equal("new"),expect(t.iceGatheringState).to.equal("new"),o()})),it("RTCPeerConnection.canTrickleIceCandidates :: boolean",(function(o){this.timeout(testItemTimeout),assert.typeOf(e.canTrickleIceCandidates,"boolean"),assert.typeOf(t.canTrickleIceCandidates,"boolean"),expect(e.canTrickleIceCandidates).to.equal(!0),expect(t.canTrickleIceCandidates).to.equal(!0),o()})),it("RTCPeerConnection.getLocalStreams :: method",(function(o){this.timeout(testItemTimeout),assert.equal(typeof e.getLocalStreams,FUNCTION_TYPE),assert.equal(typeof t.getLocalStreams,FUNCTION_TYPE);var n=e.getLocalStreams(),i=t.getLocalStreams();assert.instanceOf(n,Array),assert.instanceOf(i,Array),o()})),it("RTCPeerConnection.getRemoteStreams :: method",(function(o){this.timeout(testItemTimeout),assert.equal(typeof e.getRemoteStreams,FUNCTION_TYPE),assert.equal(typeof t.getRemoteStreams,FUNCTION_TYPE);var n=e.getRemoteStreams(),i=t.getRemoteStreams();assert.instanceOf(n,Array),assert.instanceOf(i,Array),o()})),it("RTCPeerConnection.addStream :: method",(function(n){this.timeout(testItemTimeout),assert.equal(typeof e.addStream,FUNCTION_TYPE),assert.equal(typeof t.addStream,FUNCTION_TYPE),e.addStream(o),t.addStream(o),expect(e.getLocalStreams()).to.have.length(1),expect(t.getLocalStreams()).to.have.length(1),n()})),it("RTCPeerConnection.addStream :: method < For > Multi-stream Feature",(function(n){this.timeout(testItemTimeout),e.addStream(o),t.addStream(o),expect(e.getLocalStreams()).to.have.length(1),expect(t.getLocalStreams()).to.have.length(1),getUserMedia({audio:!0,video:!0},(function(o){e.addStream(o),t.addStream(o),expect(e.getLocalStreams()).to.have.length(2),expect(t.getLocalStreams()).to.have.length(2),n()}),(function(e){throw e}))})),it("RTCPeerConnection.removeStream :: method",(function(n){this.timeout(testItemTimeout),assert.equal(typeof e.removeStream,FUNCTION_TYPE),assert.equal(typeof t.removeStream,FUNCTION_TYPE),e.removeStream(o),t.removeStream(o),expect(e.getLocalStreams()).to.have.length(0),expect(t.getLocalStreams()).to.have.length(0),n()})),it("RTCPeerConnection.getConfiguration :: method",(function(o){this.timeout(testItemTimeout),assert.equal(typeof e.getConfiguration,FUNCTION_TYPE),assert.equal(typeof t.getConfiguration,FUNCTION_TYPE);var n=e.getConfiguration(),i=e.getConfiguration();assert.typeOf(n,"object"),assert.typeOf(i,"object"),o()})),it.skip("RTCPeerConnection.updateIce :: method",(function(e){})),it("RTCPeerConnection.getStreamById :: method",(function(n){this.timeout(testItemTimeout),assert.equal(typeof e.getStreamById,FUNCTION_TYPE),assert.equal(typeof t.getStreamById,FUNCTION_TYPE),assert.isNull(e.getStreamById(o.id)),assert.isNull(t.getStreamById(o.id)),e.addStream(o),t.addStream(o),expect(e.getStreamById(o.id)).to.equal(o),expect(t.getStreamById(o.id)).to.equal(o),n()})),it("RTCPeerConnection.createDataChannel :: method",(function(o){this.timeout(testItemTimeout),assert.equal(typeof e.createDataChannel,FUNCTION_TYPE),assert.equal(typeof t.createDataChannel,FUNCTION_TYPE);var n=e.createDataChannel("Label"),i=t.createDataChannel("Label2");assert.typeOf(n,"object"),assert.typeOf(i,"object");var r=e.createDataChannel("Label"),c=t.createDataChannel("Label2");assert.typeOf(r,"object"),assert.typeOf(c,"object"),o()})),it("RTCPeerConnection.createDTMFSender :: method",(function(n){this.timeout(testItemTimeout),assert.equal(typeof e.createDTMFSender,FUNCTION_TYPE),assert.equal(typeof t.createDTMFSender,FUNCTION_TYPE);var i=o.getAudioTracks()[0],r=e.createDTMFSender(i),c=t.createDTMFSender(i);assert.typeOf(r,"object"),assert.typeOf(c,"object"),expect(r.track).to.equal(i),expect(c.track).to.equal(i),n()})),it("RTCPeerConnection.createOffer :: method",(function(i){this.timeout(testItemTimeout),assert.equal(typeof e.createOffer,FUNCTION_TYPE),assert.equal(typeof t.createOffer,FUNCTION_TYPE),e.addStream(o),t.addStream(o),e.createOffer((function(e){n=e,expect(e.type).to.equal("offer"),assert.typeOf(e.sdp,"string"),expect(e.sdp).to.contain("=audio"),expect(e.sdp).to.contain("=video"),i()}),(function(e){throw e}),{offerToReceiveAudio:!0,offerToReceiveVideo:!0})})),it("RTCPeerConnection.createOffer :: method < When > RTCPeerConnection.createOffer(invalid parameters)",(function(o){this.timeout(testItemTimeout),expect((function(){e.createOffer((function(){}))})).to.throw(Error),expect((function(){t.createOffer((function(){}))})).to.throw(Error),o()})),it("RTCPeerConnection.setRemoteDescription(offer) :: method",(function(e){if(this.timeout(testItemTimeout),assert.equal(typeof t.setRemoteDescription,FUNCTION_TYPE),null===n)throw new Error("Offer Session Description is not yet created");t.setRemoteDescription(n,(function(){expect(t.remoteDescription.sdp).to.equal(n.sdp),expect(t.remoteDescription.type).to.equal(n.type),e()}),(function(e){throw e}))})),it("RTCPeerConnection.setRemoteDescription :: method < When > RTCPeerConnection.setRemoteDescription(invalid parameters)",(function(o){this.timeout(testItemTimeout),expect((function(){e.setRemoteDescription((function(){}))})).to.throw(Error),expect((function(){t.setRemoteDescription((function(){}))})).to.throw(Error),expect((function(){e.setRemoteDescription(n,(function(){}))})).to.throw(Error),expect((function(){t.setRemoteDescription(n,(function(){}))})).to.throw(Error),o()})),it("RTCPeerConnection.createAnswer :: method",(function(n){this.timeout(testItemTimeout),assert.equal(typeof e.createAnswer,FUNCTION_TYPE),assert.equal(typeof t.createAnswer,FUNCTION_TYPE),e.addStream(o),e.createOffer((function(e){t.setRemoteDescription(e),t.createAnswer((function(e){expect(e.type).to.equal("answer"),assert.typeOf(e.sdp,"string"),expect(e.sdp).to.contain("=audio"),expect(e.sdp).to.contain("=video"),n()}),(function(e){throw e}))}),(function(e){throw e}))})),it.skip("RTCPeerConnection.createAnswer :: method < When > RTCPeerConnection.createAnswer(invalid parameters)",(function(o){this.timeout(testItemTimeout),expect((function(){e.createAnswer((function(){}))})).to.throw(err),expect((function(){t.createAnswer((function(){}))})).to.throw(err),o()})),it("RTCPeerConnection.setLocalDescription(offer) :: method",(function(t){this.timeout(testItemTimeout),assert.equal(typeof e.setLocalDescription,FUNCTION_TYPE),e.createOffer((function(o){e.setLocalDescription(o,(function(){expect(e.localDescription.sdp).to.deep.equal(o.sdp),expect(e.localDescription.type).to.deep.equal(o.type),t()}),(function(e){throw e}))}),(function(e){throw e}))})),it.skip("RTCPeerConnection.setLocalDescription :: method < When > RTCPeerConnection.setLocalDescription(invalid parameters)",(function(o){this.timeout(testItemTimeout),expect((function(){e.setLocalDescription((function(){}))})).to.throw(Error),expect((function(){t.setLocalDescription((function(){}))})).to.throw(Error),expect((function(){e.setLocalDescription(n,(function(){}))})).to.throw(Error),expect((function(){t.setLocalDescription(n,(function(){}))})).to.throw(Error),o()})),it("RTCPeerConnection.setLocalDescription(offer) :: method < When > RTCPeerConnection.setLocalDescription(RTCPeerConnection.localDescription)",(function(t){var o,n;this.timeout(testItemTimeout),assert.equal(typeof e.setLocalDescription,FUNCTION_TYPE),e.createOffer((function(i){e.setLocalDescription(i,(function(){o=i.sdp,n=i.type,e.setLocalDescription(e.localDescription,(function(){expect(e.localDescription.sdp).to.deep.equal(o),expect(e.localDescription.type).to.deep.equal(n),t()}),(function(e){throw e}))}),(function(e){throw e}))}),(function(e){throw e}))})),it("RTCPeerConnection.setLocalDescription(answer) :: method",(function(o){this.timeout(testItemTimeout),assert.equal(typeof t.setLocalDescription,FUNCTION_TYPE),e.createOffer((function(e){t.setRemoteDescription(e),t.createAnswer((function(e){t.setLocalDescription(e,(function(){expect(t.localDescription.sdp).to.deep.equal(e.sdp),expect(t.localDescription.type).to.deep.equal(e.type),o()}),(function(e){throw e}))}),(function(e){throw e}))}),(function(e){throw e}))})),it("RTCPeerConnection.setRemoteDescription(answer) :: method < When > RTCPeerConnection.setRemoteDescription(RTCPeerConnection.remoteDescription)",(function(o){this.timeout(testItemTimeout),assert.equal(typeof t.setLocalDescription,FUNCTION_TYPE),e.createOffer((function(e){e.sdp,e.type,t.setRemoteDescription(e,(function(){t.setRemoteDescription(t.remoteDescription,(function(){expect(t.remoteDescription.sdp).to.deep.equal(e.sdp),expect(t.remoteDescription.type).to.deep.equal(e.type),o()}),(function(e){throw e}))}),(function(e){throw e}))}),(function(e){throw e}))})),it("RTCPeerConnection.setRemoteDescription(answer) :: method",(function(o){this.timeout(testItemTimeout),assert.equal(typeof e.setRemoteDescription,FUNCTION_TYPE),e.createOffer((function(n){e.setLocalDescription(n),t.setRemoteDescription(n),t.createAnswer((function(t){e.setRemoteDescription(t,(function(){expect(e.remoteDescription.sdp).to.deep.equal(t.sdp),expect(e.remoteDescription.type).to.deep.equal(t.type),o()}),(function(e){throw e}))}),(function(e){throw e}))}),(function(e){throw e}))})),it("RTCPeerConnection.addIceCandidate :: method",(function(o){this.timeout(testItemTimeout),assert.equal(typeof e.addIceCandidate,FUNCTION_TYPE),assert.equal(typeof t.addIceCandidate,FUNCTION_TYPE);var n=0,i=0,r=!1,c=!1,a=0,s=0;checkdone=function(){r&&c&&(assert.notEqual(n,0),assert.notEqual(i,0),assert.equal(i,a),assert.equal(n,s),o())},e.onicecandidate=function(e){var o=e.candidate;null===o?(r=!0,checkdone()):(++n,t.addIceCandidate(o,(function(){++s}),(function(e){throw e})))},t.onicecandidate=function(t){var o=t.candidate;null===o?(c=!0,checkdone()):(++i,e.addIceCandidate(o,(function(){++a}),(function(e){throw e})))},connect(e,t)})),it("RTCPeerConnection.addIceCandidate :: method < When > RTCPeerConnection.addIceCandidate(invalid parameters)",(function(o){this.timeout(testItemTimeout),expect((function(){e.addIceCandidate(i[0])})).to.not.throw(Error),expect((function(){t.addIceCandidate(r[0])})).to.not.throw(Error),expect((function(){e.addIceCandidate(i[0],(function(){}))})).to.throw(Error),expect((function(){t.addIceCandidate(r[0],(function(){}))})).to.throw(Error),expect((function(){e.addIceCandidate(i[0],(function(){}),(function(){}))})).to.throw(Error),expect((function(){t.addIceCandidate(r[0],(function(){}),(function(){}))})).to.throw(Error),o()})),it("RTCPeerConnection.close :: method",(function(o){this.timeout(testItemTimeout),assert.equal(typeof e.close,FUNCTION_TYPE),assert.equal(typeof t.close,FUNCTION_TYPE),e.close(),t.close(),setTimeout((function(){expect(e.iceConnectionState).to.equal("closed"),expect(t.iceConnectionState).to.equal("closed"),expect(e.signalingState).to.equal("closed"),expect(t.signalingState).to.equal("closed"),o()}),2e3)}))}));
//# sourceMappingURL=/sm/170b83b13ca4c8b1cf1cb37f7b8623ba3196b39f85a5a41b8bfa04aa9619bc03.map
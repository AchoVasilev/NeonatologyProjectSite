@*@section Styles {
    <link href="~/css/date-picker.css" rel="stylesheet" asp-append-version="true" />
    <link href="https://cdn.jsdelivr.net/npm/mc-datepicker/dist/mc-calendar.min.css" rel="stylesheet" />
    }

    <div class="container-fluid ">
    <div class="row justify-content-center mx-0">
    <div class="col-lg-6">
    <div class="card">
    <form autocomplete="off">
    <div class="card-header">
    <div class="row justify-content-sm-center justify-content-center">
    <input type="text" id="dp1" class="datepicker" placeholder="Избери дата" name="date" readonly />
    </div>
    </div>
    <div class="card-body p-3 p-sm-5">
    <div class="row text-center mx-0">
    <div class="col-md-2 col-4 my-1 px-2">
    <div id="1" class="cell">Понеделник</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div id="2" class="cell">Вторник</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div id="3" class="cell">Сряда</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div id="4" class="cell">Четвъртък</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div id="5" class="cell">Петък</div>
    </div>
    </div>
    </div>

    <div class="card-body p-3 p-sm-5">
    <div class="row text-center mx-0">
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">09:00</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">09:15</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">09:30</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">09:45</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">10:00</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">10:15</div>
    </div>
    </div>
    <div class="row text-center mx-0">
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">10:30</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">10:45</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">11:00</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">11:15</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">11:30</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">11:45</div>
    </div>
    </div>
    <div class="row text-center mx-0">
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">12:00</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">12:15</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">12:30</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">12:45</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">13:00</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">13:15</div>
    </div>
    </div>
    <div class="row text-center mx-0">
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">13:30</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">13:45</div>
    </div>
    <div class="col-md-2 col-4 my-1 px-2">
    <div class="cell py-1">14:00</div>
    </div>
    </div>
    </div>
    </form>
    </div>
    </div>
    </div>
    </div>

    @section Scripts {
    <script src="~/js/bootstrap-datepicker.js" asp-append-version="true"></script>
    <script src="~/js/date-picker.js" asp-append-version="true"></script>
    <script src="https://cdn.jsdelivr.net/npm/mc-datepicker/dist/mc-calendar.min.js"></script>
    }*@

@section head{
<link href='~/lib/fullcallendar/main.css' rel='stylesheet' />
<script src='~/lib/fullcallendar/main.js'></script>
<script>

    document.addEventListener('DOMContentLoaded', function() {

        let events = [];
        (async function (){
            const response = await fetch('/Appointment/GetDoctorAppointments', {
                method: 'Get'
            });

            var eventObjs = await response.json();
            events.push(eventObjs);
            console.log(eventObjs);
        })()

        function generateCalendar(events) {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            defaultDate: new Date(),
            timeFormat: 'dd/mm/yyyy',
            firstDay: 1,
            headerToolbar: {
                start: 'title',
                center: '',
                end: 'today prev, next'
            },
            events: events
          });

        calendar.render();
    }
    });
</script>
}

<div id='calendar'></div>